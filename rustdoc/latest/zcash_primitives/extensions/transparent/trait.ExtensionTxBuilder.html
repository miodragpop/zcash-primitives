<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="An interface for transaction builders which support addition of TZE inputs and outputs."><meta name="keywords" content="rust, rustlang, rust-lang, ExtensionTxBuilder"><title>ExtensionTxBuilder in zcash_primitives::extensions::transparent - Rust</title><link rel="stylesheet" type="text/css" href="../../../normalize.css"><link rel="stylesheet" type="text/css" href="../../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../../../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../../../ayu.css" disabled ><script id="default-settings" ></script><script src="../../../storage.js"></script><script src="../../../crates.js"></script><noscript><link rel="stylesheet" href="../../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../../favicon.svg"><style type="text/css">#crate-search{background-image:url("../../../down-arrow.svg");}</style></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../../../zcash_primitives/index.html'><div class='logo-container rust-logo'><img src='../../../rust-logo.png' alt='logo'></div></a><h2 class="location">Trait ExtensionTxBuilder</h2><div class="sidebar-elems"><div class="block items"><h3 class="sidebar-title"><a href="#associated-types">Associated Types</a></h3><div class="sidebar-links"><a href="#associatedtype.BuildCtx">BuildCtx</a><a href="#associatedtype.BuildError">BuildError</a></div><h3 class="sidebar-title"><a href="#required-methods">Required Methods</a></h3><div class="sidebar-links"><a href="#tymethod.add_tze_input">add_tze_input</a><a href="#tymethod.add_tze_output">add_tze_output</a></div><h3 class="sidebar-title"><a href="#implementors">Implementors</a></h3></div><h2 class="location">Other items in<br><a href="../../index.html">zcash_primitives</a>::<wbr><a href="../index.html">extensions</a>::<wbr><a href="index.html">transparent</a></h2><div id="sidebar-vars" data-name="ExtensionTxBuilder" data-ty="trait" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="18" height="18" alt="Pick another theme!" src="../../../brush.svg"></button><div id="theme-choices" role="menu"></div></div><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../../../settings.html" title="settings"><img width="18" height="18" alt="Change settings" src="../../../wheel.svg"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Trait <a href="../../index.html">zcash_primitives</a>::<wbr><a href="../index.html">extensions</a>::<wbr><a href="index.html">transparent</a>::<wbr><a class="trait" href="#">ExtensionTxBuilder</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../../../src/zcash_primitives/extensions/transparent.rs.html#173-203" title="goto source code">[src]</a></span></h1><div class="docblock type-decl"><pre class="rust trait"><code>pub trait ExtensionTxBuilder&lt;'a&gt; {
    type <a href="#associatedtype.BuildCtx" class="type">BuildCtx</a>;
    type <a href="#associatedtype.BuildError" class="type">BuildError</a>;
    fn <a href="#tymethod.add_tze_input" class="fnname">add_tze_input</a>&lt;WBuilder, W:&nbsp;<a class="trait" href="trait.ToPayload.html" title="trait zcash_primitives::extensions::transparent::ToPayload">ToPayload</a>&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extension_id: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mode: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prevout: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">(</a><a class="struct" href="../../transaction/components/tze/struct.OutPoint.html" title="struct zcash_primitives::transaction::components::tze::OutPoint">OutPoint</a>, <a class="struct" href="../../transaction/components/tze/struct.TzeOut.html" title="struct zcash_primitives::transaction::components::tze::TzeOut">TzeOut</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">)</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;witness_builder: WBuilder<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, Self::<a class="type" href="trait.ExtensionTxBuilder.html#associatedtype.BuildError" title="type zcash_primitives::extensions::transparent::ExtensionTxBuilder::BuildError">BuildError</a>&gt;<br>&nbsp;&nbsp;&nbsp; <span class="where">where<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WBuilder: 'a + <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/function/trait.FnOnce.html" title="trait core::ops::function::FnOnce">FnOnce</a>(&amp;Self::<a class="type" href="trait.ExtensionTxBuilder.html#associatedtype.BuildCtx" title="type zcash_primitives::extensions::transparent::ExtensionTxBuilder::BuildCtx">BuildCtx</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;W, Self::<a class="type" href="trait.ExtensionTxBuilder.html#associatedtype.BuildError" title="type zcash_primitives::extensions::transparent::ExtensionTxBuilder::BuildError">BuildError</a>&gt;</span>;
<div class="item-spacer"></div>    fn <a href="#tymethod.add_tze_output" class="fnname">add_tze_output</a>&lt;Precondition:&nbsp;<a class="trait" href="trait.ToPayload.html" title="trait zcash_primitives::extensions::transparent::ToPayload">ToPayload</a>&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extension_id: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value: <a class="struct" href="../../transaction/components/amount/struct.Amount.html" title="struct zcash_primitives::transaction::components::amount::Amount">Amount</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;guarded_by: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;</a>Precondition<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, Self::<a class="type" href="trait.ExtensionTxBuilder.html#associatedtype.BuildError" title="type zcash_primitives::extensions::transparent::ExtensionTxBuilder::BuildError">BuildError</a>&gt;;
}</code></pre></div><div class="item-info"><div class="stab portability">This is supported on <strong>crate feature <code>zfuture</code></strong> only.</div></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>An interface for transaction builders which support addition of TZE inputs and outputs.</p>
<p>This extension trait is satisfied by <a href="../../transaction/builder/struct.Builder.html"><code>transaction::builder::Builder</code></a>. It provides a minimal
contract for interacting with the transaction builder, that extension library authors can use
to add extension-specific builder traits that may be used to interact with the transaction
builder. This may make it simpler for projects that include transaction-builder functionality
to integrate with third-party extensions without those extensions being coupled to a particular
transaction or builder representation.</p>
</div></details><h2 id="associated-types" class="small-section-header">Associated Types<a href="#associated-types" class="anchor"></a></h2><div class="methods"><div id="associatedtype.BuildCtx" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/zcash_primitives/extensions/transparent.rs.html#174" title="goto source code">[src]</a></div><h4 class="code-header">type <a href="#associatedtype.BuildCtx" class="type">BuildCtx</a></h4></div><div id="associatedtype.BuildError" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/zcash_primitives/extensions/transparent.rs.html#175" title="goto source code">[src]</a></div><h4 class="code-header">type <a href="#associatedtype.BuildError" class="type">BuildError</a></h4></div></div><h2 id="required-methods" class="small-section-header">Required methods<a href="#required-methods" class="anchor"></a></h2><div class="methods"><details class="rustdoc-toggle" open><summary><div id="tymethod.add_tze_input" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/zcash_primitives/extensions/transparent.rs.html#185-193" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.add_tze_input" class="fnname">add_tze_input</a>&lt;WBuilder, W:&nbsp;<a class="trait" href="trait.ToPayload.html" title="trait zcash_primitives::extensions::transparent::ToPayload">ToPayload</a>&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;extension_id: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;mode: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;prevout: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">(</a><a class="struct" href="../../transaction/components/tze/struct.OutPoint.html" title="struct zcash_primitives::transaction::components::tze::OutPoint">OutPoint</a>, <a class="struct" href="../../transaction/components/tze/struct.TzeOut.html" title="struct zcash_primitives::transaction::components::tze::TzeOut">TzeOut</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">)</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;witness_builder: WBuilder<br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, Self::<a class="type" href="trait.ExtensionTxBuilder.html#associatedtype.BuildError" title="type zcash_primitives::extensions::transparent::ExtensionTxBuilder::BuildError">BuildError</a>&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;WBuilder: 'a + <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/function/trait.FnOnce.html" title="trait core::ops::function::FnOnce">FnOnce</a>(&amp;Self::<a class="type" href="trait.ExtensionTxBuilder.html#associatedtype.BuildCtx" title="type zcash_primitives::extensions::transparent::ExtensionTxBuilder::BuildCtx">BuildCtx</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;W, Self::<a class="type" href="trait.ExtensionTxBuilder.html#associatedtype.BuildError" title="type zcash_primitives::extensions::transparent::ExtensionTxBuilder::BuildError">BuildError</a>&gt;,&nbsp;</span></h4></div></summary><div class="docblock"><p>Adds a TZE input to the transaction by providing a witness to a precondition identified by a
prior outpoint.</p>
<p>The <code>witness_builder</code> function allows the transaction builder to provide extra contextual
information from the transaction under construction to be used in the production of this
witness (for example, so that the witness may internally make commitments based upon this
information.) For the standard transaction builder, the value provided here is the
transaction under construction.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.add_tze_output" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/zcash_primitives/extensions/transparent.rs.html#197-202" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.add_tze_output" class="fnname">add_tze_output</a>&lt;Precondition:&nbsp;<a class="trait" href="trait.ToPayload.html" title="trait zcash_primitives::extensions::transparent::ToPayload">ToPayload</a>&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;extension_id: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;value: <a class="struct" href="../../transaction/components/amount/struct.Amount.html" title="struct zcash_primitives::transaction::components::amount::Amount">Amount</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;guarded_by: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;</a>Precondition<br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, Self::<a class="type" href="trait.ExtensionTxBuilder.html#associatedtype.BuildError" title="type zcash_primitives::extensions::transparent::ExtensionTxBuilder::BuildError">BuildError</a>&gt;</h4></div></summary><div class="docblock"><p>Adds a TZE precondition to the transaction which must be satisfied by a future transaction’s
witness in order to spend the specified <code>amount</code>.</p>
</div></details></div><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor"></a></h2><div class="item-list" id="implementors-list"><details class="rustdoc-toggle implementors-toggle"><summary><div id="impl-ExtensionTxBuilder%3C%27a%3E" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../../src/zcash_primitives/transaction/builder.rs.html#414-444" title="goto source code">[src]</a></div><a href="#impl-ExtensionTxBuilder%3C%27a%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;'a, P:&nbsp;<a class="trait" href="../../consensus/trait.Parameters.html" title="trait zcash_primitives::consensus::Parameters">Parameters</a>, R:&nbsp;<a class="trait" href="https://rust-random.github.io/rand/rand_core/trait.RngCore.html" title="trait rand_core::RngCore">RngCore</a> + <a class="trait" href="https://rust-random.github.io/rand/rand_core/trait.CryptoRng.html" title="trait rand_core::CryptoRng">CryptoRng</a>&gt; <a class="trait" href="trait.ExtensionTxBuilder.html" title="trait zcash_primitives::extensions::transparent::ExtensionTxBuilder">ExtensionTxBuilder</a>&lt;'a&gt; for <a class="struct" href="../../transaction/builder/struct.Builder.html" title="struct zcash_primitives::transaction::builder::Builder">Builder</a>&lt;'a, P, R&gt;</h3></div></summary><div class="impl-items"><div id="associatedtype.BuildCtx-1" class="type trait-impl has-srclink"><a href="#associatedtype.BuildCtx-1" class="anchor"></a><h4 class="code-header">type <a href="#associatedtype.BuildCtx" class="type">BuildCtx</a> = <a class="struct" href="../../transaction/struct.TransactionData.html" title="struct zcash_primitives::transaction::TransactionData">TransactionData</a>&lt;<a class="struct" href="../../transaction/struct.Unauthorized.html" title="struct zcash_primitives::transaction::Unauthorized">Unauthorized</a>&gt;</h4></div><div id="associatedtype.BuildError-1" class="type trait-impl has-srclink"><a href="#associatedtype.BuildError-1" class="anchor"></a><h4 class="code-header">type <a href="#associatedtype.BuildError" class="type">BuildError</a> = <a class="enum" href="../../transaction/components/tze/builder/enum.Error.html" title="enum zcash_primitives::transaction::components::tze::builder::Error">Error</a></h4></div></div></details></div><script type="text/javascript" src="../../../implementors/zcash_primitives/extensions/transparent/trait.ExtensionTxBuilder.js" async></script></section><section id="search" class="content hidden"></section><div id="rustdoc-vars" data-root-path="../../../" data-current-crate="zcash_primitives" data-search-index-js="../../../search-index.js" data-search-js="../../../search.js"></div>
    <script src="../../../main.js"></script>
</body></html>